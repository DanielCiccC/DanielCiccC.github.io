# Lecture 12 Revision
# Transitioning to Other Web Frameworks

![alt text](assets\IMG70.PNG)

> Model
> - remove the need to write your own SQL
> - easier to deal with Databases
>
> View
> - HTML templates we can make dynamic


### Convention vs. Configuration is a design philosophy that:
- impacts how software frameworks are structured  (i.e. where files are located)
- how they expect developers to interact with them
- It's a trade-off between the ease of following predefined paths and files (convention) 
or the flexibility to define everything explicitly (configuration).

**Important advice:**
- Web frameworks (CodeIgniter, Django, Ruby on Rails, Flask, Next,JS) come with a 
predefined folder structure
- Learn what the structure is and where files go
- This will improve your productivity!

> Web frameworks come with their own conventions
> - Codeigniter with their own file structure
> - learning structure of default project
> 
> - Want to add a new route - new controller, view, should all fall into place


### CodeIgniter – Mapping a Model to a DB Table

**Model Configuration**: The model class provides configuration options 
to facilitate the smooth functioning of its methods. 

  - $table: Specifies the database table that this model primarily works 
with.
  - $primaryKey: Specifies the name of the column that uniquely 
identifies the records in this table.
  - $useAutoIncrement: Specifies if the table uses an auto-increment 
feature for $primaryKey. 
  - $returnType: This setting allows you to define the type of data that is 
returned. 
  - $allowedFields: This array should be updated with the field names 
that can be set during save(), insert(), or update() methods. A

> just needed one file, everything else auto generated
> - mapping between class and corresponding tables, could grab data from a form without any processing in particular

### How to transition to other web Frameworks?
- Web fundamentals are the same.
  - HTML
  - Javascript
  - Forms (Post vs Get)
> posting them off, the method (POST, GET)
- MVC implementations are very similar
  - Eg Flask, Django, FastAPI
  - …. But there are differences
  - And different conventions and folder structures
  - And more powerful Models (including Object Relational Modeling) than the models in 
CodeIgniter
  - And different templating libraries (i.e. alternatives to embedded PHP in HTML)
  - And different ways to implement Routing
  - More recently there are newer ideas
  - React (client-side)
  - Next.JS (React that runs on Server with new ideas for layouts)

> Codeigniter has a fully-fledged ORM
>   - writes the migration for you
> Codeigniter using vanilla PHP
> - there are python templating 
>
> Routing
> - flask uses decorated methods


### Comparing Frameworks
- We will look at Django, React and Next.js
- We will cover:
  - Installation
  - Project Structure
  - Routing and Controllers
  - How to make a base template?
  - Models
- We will build a small WIKI app

> how does a base template look like in these frameworks

## Django (Server-side Python Framework)

- Well-known python framework

### Creating a Django Project

- Create a virtual environment
  - python3 -m venv venv
  - source venv/bin/activate
- Install Django and a Markdown library
  - pip install django
  - pip install markdown
- Create a Django project and app
  - django-admin startproject wiki_project
  - python manage.py startapp wiki_app

> - Django has its own CLI
>   - gives us the initial project files that it needs

### Django Project Structure
The main directories are:
- wiki_app: Contains the application-specific code, including 
models, views, forms, and templates.
- wiki_project: Contains the project-level configuration files and 
settings.
- settings.py: The main Django project settings file. 
- urls.py: The URL configuration file for the project.

> - notion of settings
> - urls.py, has routes and what should execute 

### Creating a Model for the WIKI
In Django we don’t create the migration first.

- We create a model using simple syntax. Then we generate the 
migration. Django can convert a model into the migration file.
- This is much easier than CodeIgniter

![alt text](assets\IMG71.PNG)

> create a class, give it it's fields, and that is your model
> - commandline tool creates the migration file
> - another tool runs the migration

### Autogenerated Migration

![alt text](assets\IMG72.PNG)

### Base Templates

- We can embed Python within HTML. 
- This uses Jinja Templating
- We can also define blocks
- Blocks are like the CodeIgniter sections.

> defining a block, can put the content in
> - when the whole HTML view is rendered, pull in the template

### Views
- The views.py file contains methods that can 
use models and render templates
- This is essentially the equivalent of the 
CodeIgniter Controllers
- Django Models are much more powerful.
Django has a full Object Relational Mapper 
(ORM)
- Data is passed to the template

![alt text](assets\IMG73.PNG)

**From urls.py**

![alt text](assets\IMG74.PNG)

> - In Codeigniter, the View is the HTML that is rendered
> - In Django, HTML goes into a folder called templates
>   - View is similar to the controller in Codeigniter


## React/next.js

### Using create-react-app

- Create a new react client side application:
- ``npx create-react-app simple-app --use-npm``
- What does create-react-app do?
- A command-line tool developed by Meta (Facebook) that sets up a new React project with a recommended file structure and 
configuration. 
- It simplifies the process of starting a React application by automatically setting up a development environment, including the 
necessary dependencies and build scripts, without requiring manual configuration.

> - Client-side framework
>   - open source project by meta
>
> Comes with a command line tool
> - knowing some linux is handy
> - install node.js
>
> Project base folder and all the folders you need
>

### Creating a React Project

**Create a new react client side application:**
- npx create-react-app simple-app --use-npm
- cd simple-app
- npm start

![alt text](assets\IMG75.PNG)

![alt text](assets\IMG76.PNG)

> - convention is important
> - app.js, generates a page with a logo
>
> Has functions returning HTML
> - simplify HTML 
> - output HTML - called JSX
> - use HTML tags inside a function
>   - create our own tags and render them

![alt text](assets\IMG77.PNG)

> - becomes it's own HTML tag

### ItemList Component

![alt text](assets\IMG78.PNG)

> - use javaScript to map
> - embed the logic inside the function
> - loops and maps are the cleanest functional way

### Add Item with a button

**Code** | **output**
| --- | --- |
| ![alt text](assets\IMG79.PNG) | ![alt text](assets\IMG80.PNG)

- What have we not had to program?
- State is a very powerful concept!
- When state is updated the component is re-rendered

> codeigniter using restful API's, had to use javascript to write it to the screen
> - add to do items to the screen
> - use HTML template, and coding it
>
> Any time anything in state changes, view will re-render


> EXAM
> commonalities in projects
>  - gives us base code
> - know the file structure
>   - create components in sub-folders
> - when it compiles, to HTMl and javascript
> - all of this will run inside the browser

## Next.JS

